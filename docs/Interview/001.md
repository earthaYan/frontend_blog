---
outline: deep
---

# 面试复盘

## 公司 1

### 自我介绍

重点放在需要关注的点上，弱化工作信息。

我叫 xx，从 2017 年实习开始就一直从事前端开发工作。上一家公司属于数据库行业，主营产品是数据库运维管台，期间主要参与了 2 个 项目，主要使用 react 技术栈;在上上家公司主要用的 vue 技术栈。

### 常用技术栈 vue 和 react 的使用体验上的区别

相同点：都是以虚拟 DOM 为基础，组件化方式组织应用，不需要关注 DOM 细节

不同点：

- vue 更容易入门，react 需要了解 jsx 相关知识，倾向于通过 js 灵活控制，入门可能较高
- vue 使用模板语法，将模板、样式、逻辑划分开，可以选配 jsx 支持；react 默认使用 jsx 编写组件，无需引入额外的概念

### flex 布局

核心： 将容器内的子元素视为可伸缩的弹性盒子，可以根据需要自动调整其大小和位置，以填充可用空间

#### flex 容器：

- display:`flex`,`inline-flex`
- flex-direction:`row`,`col`
- flex-wrap:`wrap`,`nowrap`
- justify-content：`center`,`space-around`
- align-items:`center`,`flex-start`
- align-content:`center`,`flex-start`

#### flex 项目

容器内的直接子元素

- order:默认 0
- flex-grow:指定 Flex 项目在空间分配时的放大比例，值可取正整数和 0
- flex-shrink:指定 Flex 项目在空间不足时的收缩比例，值可取正整数和 0
- flex-basis:定义 Flex 项目在主轴上的初始大小，值可取 number，max-content,min-content,fit-content,content
- align-self：覆盖 align-items

> 缩写：flex:flex-grow, flex-shrink, flex-basis

### vue/react 状态管理器及使用方法

vue: Pinia

```js
//创建store
import { defineStore } from "pinia";
export const useMainStore = defineStore("main", {
  state: () => ({
    count: 0,
  }),
  getters: {
    doubleCount: (state) => state.count * 2,
  },
  actions: {
    increment() {
      this.count++;
    },
  },
});
//使用
import { createApp } from "vue";
import { createPinia } from "pinia";
import App from "./App.vue";
const app = createApp(App);
app.use(createPinia());
app.mount("#app");
//组件中使用
<template>
  <div>
    <p>Count: {{ count }}</p>
    <p>Double Count: {{ doubleCount }}</p>
    <button @click="increment">Increment</button>
  </div>
</template>
<script setup>
import { useMainStore } from '../store'
const store = useMainStore()
const { count, doubleCount, increment } = store
</script>
```

react:react-redux+redux-toolkit

```jsx
import { Provider } from "react-redux";
import store from "./redux/store";
​
const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <Provider store={store}>
    <App />
  </Provider>
);
//创建store
import { configureStore } from "@reduxjs/toolkit";
export default configureStore({
  reducer: {
    // 配置 reducer
  }
});
//具体到某个文件
const s1=createSlice({
    name:'xxx',
    initialState,
    reducers:{
        initClickHouseModalState: (state, action: PayloadAction<ModalState>) => {
        state.global.modalStatus = action.payload;
        },
    }
})
export const  {xx}=s1.actions
export default s1.reducer
//组件内获取数据
const { list } = useSelector(state => state.todo);
//组件内调用
const dispatch = useDispatch();
//封装供具体组件调用
const resetBatchState = () => {
    dispatch(resetBatchOperatorState());
};
```

### 页面性能优化

公司部分项目历史过于悠久且逻辑复杂，页面加载时间过长，前端通过按需加载某些大型依赖项和删除未使用的依赖项来减小最终打包产物的大小；
切割大体积文件，减少初始加载时间和资源占用；整合小体积文件，减少发送请求开销

### 私有组件库封装中遇到的问题

### TS 给你的感受是什么

### 团队工作流程

## 公司 2

1. 自我介绍
2. css 如何定义变量

   ```less
   //css:使用`--`来定义变量值
   :root {
     --bg-color: lightgray;
   }
   background-color: var(--bg-color);
   //less:@ 开头 定义变量
   @mySelector: #wrap;
   @Wrap: wrap;
   @{mySelector}{
   color: #999;
   width: 50%;
   };
   .@{Wrap}{
   color:#ccc;
   };
   #@{Wrap}{
   color:#666;
   };
   ```

3. 页面性能优化

4. 如果接口有变更，前端如何及时发现并处理

5. 独立负责的项目的搭建(脚手架，package.json 等)
   使用 create-react-app 脚手架搭建项目并引入 antd

## 公司 3

1. 自我介绍
2. 前端安全
3. 页面性能优化
4. 大屏可视化
5. 地图
6. three.js

## 公司 4

### token 使用过程中突然失效

方案 1：直接跳到登陆页面

方案 2：token 无感刷新
通过 axios 响应拦截器拦截 401 响应，判断出 token 过期

```js
axios.interceptors.response.use(
  (response) => {
    return response;
  },
  (error) => {
    const originalRequest = error.config;
    if (error.response.status === 401 && !originalRequest._retry) {
      originalRequest._retry = true; //防止无限调用
      return axios
        .post("/api/refresh_token", { refreshToken })
        .then((response) => {
          const { access_token, refresh_token } = response.data;
          localStorage.setItem("access_token", access_token);
          localStorage.setItem("refresh_token", refresh_token);
          axios.defaults.headers.common[
            "Authorization"
          ] = `Bearer ${access_token}`;
          originalRequest.headers.Authorization = `Bearer ${access_token}`;
          return axios(originalRequest);
        });
    }
    return Promise.reject(error);
  }
);
```

2. 原型，原型链
3. 闭包和内存泄漏
4. 调用接口数据如何保证安全性
5. 接口路径失效
6. 低代码平台
7. 地图

## 公司 5

1. 私有库封装中遇到的问题
   语言包问题
2. 虚拟列表

3. 折线图数据量大，点图多，但需要显示全图，如何优化避免卡顿

4. 前端安全
5. UI 设计布局
6. 开发完成后自测
7. 静态资源在浏览器加载过程以及优化点

:::tip

- CDN:静态资源一般从 CDN 获取，若加载速度很慢则去找 CDN 负责人确认问题
- 解析：删除冗余资源
- vue 程序初始化：异步，部分操作可等待异步执行
- 渲染过程：懒加载、雪碧图、

:::
