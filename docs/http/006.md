---
title: 垃圾回收机制
titleTemplate: GC
outline: "deep"
---

在 JavaScript 中，垃圾回收机制是自动管理内存的一种方式，目的是回收不再使用的对象，释放内存空间，防止内存泄漏。

工作原理：

1. 引用计数:当一个对象的引用次数为 0，表示不再被任何地方引用，可回收
2. 标记清除:从根对象出发，遍历所有可达的对象，并将这些对象标记为‘活动’状态。然后，GC 会清除那些没有被标记为活动的对象，即不再被任何引用指向的对象

触发时机：

1. 内存使用达到一定阈值
2. 创建新的对象且内存不足
3. 定期触发机制

优化方案：

1. 尽量减少全局变量的使用，以免长时间占用内存
2. 及时解除对不再使用对象的引用，帮助垃圾回收器更早地识别它们
3. 避免循环引用和事件监听器未移除等常见的内存泄漏情况
