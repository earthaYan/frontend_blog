---
title: 简历梳理-DTLE项目
titleTemplate: 面试复盘
outline: "deep"
---

# DTLE 项目

## 项目概述

### 项目目标

DTLE 项目是一个数据传输组件。通过数据迁移、数据同步以及数据订阅等功能实现公有云数据同步、数据拆分和聚合。在这个项目里，前端通过提供可视化界面，让运维人员能够方便地进行数据迁移。

### 实现的功能

1. 用户权限管理：根据不同角色进行平台权限划分，确保数据安全和操作权限的合理分配。
2. 服务：创建任务、查看任务状态，启停任务

## 技术栈/工具

- react:用于构建 UI，采用组件化开发模式
- react-router:实现页面路由管理
- redux/react-redux:用于全局状态管理，通过 store 管理应用的状态，并通过 actions 和 reducers 更新状态
- @reduxjs/toolkit:简化 Redux 的使用
- ant design: UI 组件库
- axios:和后端 API 进行数据交互
- craco:基于 webpack 的构建工具
- ESLint 和 Prettier:保证代码风格统一
- TypeScript：提供静态类型检查

## 项目架构

使用了基于 webpack 的脚手架 craco 搭建项目，配置文件为`craco.config.js`,主要配置了 plugins,通过 CracoLessPlugin 插件处理 LESS 文件，同时通过`webpack`去修改一些属于 webpack 本身的设置

## 项目挑战与解决方案【亮点】

### 已开发完的项目需要大规模变更某个内容

#### 背景

客户出于信创相关的业务需求，需要将项目中出现 dtle 的字样全部替换为客户公司的相关内容，且不能出现我司的 Logo

#### 难点

一开始想直接用全局替换，但这个产品同时也是公司的自研产品，未来可能会出售给其他客户，而这个效果对于新的客户肯定是不可接受的，但又不期望因为一个小的需求而去维护 2 套代码

#### 解决方案

最终选择了条件编译+写脚本替换节点内容去解决。

1. 条件编译：
   在 craco 配置文件里使用`js-conditional-compile-loader`这个 loader，设置了一个环境变量`isDTS`,执行`build`的时候如果传入了`--dts`参数，则会将该环境变量设置为 true，替换内容的脚本只在环境变量为 true 的时候执行，图片展示也是同样道理
2. 动态监控并替换节点内容：
   通过 MutationObserver 监控 DOM 的变化，在页面元素动态添加或修改时，自动检测并替换其中的 'dtle' 为客户公司内容。

#### 效果和影响

1. 满足客户需求的同时保持通用性
2. 通过 `MutationObserver` 动态监控 DOM 变化，能够实时替换而不影响用户体验

### 虚拟列表[还需要再优化]

#### 背景

创建任务的表单填写中有一项是迁移对象，会在左侧展示源对象，即数据库名称。客户可能会有大量的数据库实例，通过 mock 数据发现当数据量达到数千的时候，页面确实会开始卡顿。

#### 难点

1. 在处理大量数据的时候，传统的渲染方式是一次性加载并渲染出所有列表项，导致页面加载缓慢，浏览器卡顿
2. 在长列表的滚动过程中，频繁地执行 DOM 更新可能导致页面渲染卡顿，影响用户体验

#### 解决方案

1. 通过虚拟列表技术，引入 react-virtualized 插件，只渲染视口中可见的元素。通过动态计算哪些元素需要渲染，哪些可以延迟加载，减少 DOM 操作，避免不必要的重绘和回流。这样有效降低了浏览器的渲染压力，并确保滚动流畅。

#### 效果和影响

1. 通过虚拟列表技术，页面加载速度和滚动流畅度得到了大幅度提升
